{
  "version": 1,
  "context_strategy": "full_context",
  "injection_priority": [
    "character_sheet",
    "rules_text",
    "world_state"
  ],
  "character_sheet_path": "data/characters",
  "character_state_path": "",
  "rules_text_path": "",
  "world_state_path": "",
  "lore_path": "",
  "log_tokens": true,
  "persona_lock_enabled": true,
  "dialog_route_default": {
    "dialog_type": "narrative",
    "variant": "scene_general",
    "response_style": "default",
    "guards": [
      "persona_lock",
      "role_confusion_guard"
    ]
  },
  "dialog_routes": {
    "narrative.scene_pure": "nar_scene_pure",
    "narrative.scene_general": "nar_scene_general",
    "action_intent.light": "act_light",
    "rules_query.explain": "rules_explain"
  },
  "context_profiles": {
    "nar_scene_pure": {
      "include_blocks": [
        "lore",
        "session_summary",
        "recent_turns"
      ],
      "exclude_blocks": [
        "character_sheet",
        "rules_text",
        "character_state"
      ],
      "limits": {
        "lore": 1200,
        "session_summary": 1500,
        "recent_turns": 1200
      },
      "recent_turns_n": 4,
      "strategy": "full_context"
    },
    "nar_scene_general": {
      "include_blocks": [
        "character_state",
        "world_state",
        "session_summary",
        "recent_turns"
      ],
      "exclude_blocks": [
        "character_sheet",
        "rules_text"
      ],
      "limits": {
        "character_state": 800,
        "world_state": 800,
        "session_summary": 1500,
        "recent_turns": 1200
      },
      "recent_turns_n": 4,
      "strategy": "full_context"
    },
    "act_light": {
      "include_blocks": [
        "character_state",
        "world_state",
        "recent_turns"
      ],
      "exclude_blocks": [
        "character_sheet",
        "rules_text"
      ],
      "limits": {
        "character_state": 900,
        "world_state": 900,
        "recent_turns": 1200
      },
      "recent_turns_n": 3,
      "strategy": "full_context"
    },
    "rules_explain": {
      "include_blocks": [
        "rules_text"
      ],
      "exclude_blocks": [
        "character_sheet",
        "character_state",
        "world_state",
        "lore",
        "key_facts",
        "session_summary",
        "recent_turns"
      ],
      "limits": {
        "rules_text": 2000
      },
      "recent_turns_n": 0,
      "strategy": "compact_context"
    }
  },
  "routing": {
    "all": "providerA",
    "chat": "providerA",
    "world_gen": "providerB",
    "character_gen": "providerA"
  },
  "providers": {
    "providerA": {
      "base_url": "https://example.com/v1",
      "model": "gpt-4o-mini",
      "temperature": 0.7,
      "timeout_seconds": 60
    },
    "providerB": {
      "base_url": "https://example.com/v1",
      "model": "some-model",
      "temperature": 0.2,
      "timeout_seconds": 60
    }
  }
}
